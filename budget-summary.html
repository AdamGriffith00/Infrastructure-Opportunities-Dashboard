<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UK Map - Fixed</title>
    <style>
  :root{
    --gleeds:#f7c400;         /* Gleeds yellow */
    --charcoal:#3c3c3c;       /* Gleeds charcoal */
    --ink:#fff;
  }

  body{
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    min-height: 100vh;
    /* charcoal gradient to match portal */
    background: radial-gradient(1200px 600px at 50% 20%, #4a4a4a 0%, var(--charcoal) 60%, #2f2f2f 100%);
    color:#222;
  }

  /* GRID — leave columns the same, make rows a bit taller so cards don't scroll */
  .container{
    display:grid;
    grid-template-columns: 200px 200px 600px 200px 200px;    /* L | L | MAP | R | R */
    grid-template-rows: 220px 220px 220px 220px 220px 220px; /* six rows, taller than before */
    gap:20px;
    max-width:1440px;
    margin:0 auto;
    padding:20px;
  }

  /* MAP occupies the full 6 rows (so bottom cards can sit underneath cleanly) */
  .map-container{
    grid-column:3;
    grid-row:1 / 7;                 /* was 1 / 6 */
    position:relative;
    z-index:1;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  /* Ensure the SVG always fits the cell */
  #svg_map{ width:100%; height:auto; }

  /* Cards */
  .region-box{
    background:#2f2f2f;             /* deep charcoal */
    color:#fff;
    padding:14px 16px;
    border-radius:10px;
    border:2px solid var(--gleeds);  /* yellow outline on ALL cards */
    box-shadow:0 6px 18px rgba(0,0,0,.25);
    font-size:13px;
    font-weight:bold;
    text-align:left;
    /* remove scrollbars by default */
    overflow:visible; 
    transition:transform .18s ease, box-shadow .18s ease;
  }
  .region-box:hover{
    transform:translateY(-2px);
    box-shadow:0 10px 26px rgba(0,0,0,.3);
  }
  .region-title{
    text-align:center;
    margin-bottom:6px;
    font-weight:800;
  }
  .region-details{
    margin-top:6px;
    padding-top:8px;
    border-top:1px solid rgba(255,255,255,.22);
    font-size:12px;
    line-height:1.25;
  }

  /* value tints (unchanged) */
  .value{color:#A80000;font-weight:700;}
  .value-low-medium{color:#F27900;font-weight:700;}
  .value-medium{color:#FFFF00;font-weight:700;}
  .value-high{color:#35F600;font-weight:700;}

  /* Box positions (unchanged except bottom row tidy) */
  #scotland-box{grid-column:1;grid-row:1;transform:translateX(200px);}
  #northern-ireland-box{grid-column:1;grid-row:2;transform:translateX(200px);}
  #north-west-box{grid-column:1;grid-row:3;transform:translateX(200px);}
  #wales-box{grid-column:1;grid-row:4;transform:translateX(200px);}
  #south-west-box{grid-column:1;grid-row:5;transform:translateX(200px);}

  #north-east-box{grid-column:4;grid-row:1;}
  #yorkshire-and-the-humber-box{grid-column:4;grid-row:2;}
  #east-midlands-box{grid-column:4;grid-row:3;}
  #eastern-box{grid-column:4;grid-row:4;}
  #south-east-box{grid-column:4;grid-row:5;}

  /* Bottom row: place both cards cleanly without overlap */
  #west-midlands-box{grid-column:2;grid-row:6;transform:translateX(300px);}
  #london-box{grid-column:4;grid-row:6;transform:translateX(-250px);}

  /* MAP highlighting (your existing colours kept) */
  .map-region{cursor:pointer;transition:all .3s ease;}
  .map-region-single{fill:var(--gleeds);stroke:#2c5aa0;stroke-width:2;transition:all .3s ease;}
  .map-region:hover .map-region-single{fill:#ffce14;stroke:#1a4480;stroke-width:3;}
  .map-region.selected .map-region-single{fill:#ffe228;stroke:#FFD700;stroke-width:4;}

  /* Stack on small screens */
  @media (max-width:1200px){
    .container{grid-template-columns:1fr;grid-template-rows:auto;gap:12px;}
    .map-container{grid-column:1;grid-row:1;}
    .region-box{grid-column:1;transform:none !important;margin:6px 0;}
    #scotland-box,#northern-ireland-box,#north-west-box,#wales-box,#south-west-box,
    #north-east-box,#yorkshire-and-the-humber-box,#east-midlands-box,#eastern-box,#south-east-box,
    #west-midlands-box,#london-box{grid-column:1;grid-row:auto;}
  }
</style>
</head>
<body>
    <div class="container">
        <!-- Boxes positioned around the map -->
        <div id="scotland-box" class="region-box">
            <div class="region-title">Scotland</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-low-medium">£1.26B</span></div>
                <div>Highways: <span class="value-high">£6.2B</span></div>
                <div>Aviation: <span class="value">£352M</span></div>
                <div>Maritime: <span class="value">£348M</span></div>
                <div>Utilities: <span class="value-low-medium">£2.02B</span></div>
                <div>Grand Total: <span class="value-high">£10.18B</span></div>
            </div>
        </div>

        <div id="northern-ireland-box" class="region-box">
            <div class="region-title">Northern Ireland</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-low-medium">£825M</span></div>
                <div>Highways: <span class="value-low-medium">£2.1B</span></div>
                <div>Aviation: <span class="value">£325M</span></div>
                <div>Maritime: <span class="value-low-medium">£660M</span></div>
                <div>Utilities: <span class="value-low-medium">£1.34B</span></div>
                <div>Grand Total: <span class="value-low-medium">£5.25B</span></div>
            </div>
        </div>

        <div id="north-west-box" class="region-box">
            <div class="region-title">North West</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-high">£13.45B</span></div>
                <div>Highways: <span class="value-low-medium">£2.23B</span></div>
                <div>Aviation: <span class="value-low-medium">£1.38B</span></div>
                <div>Maritime: <span class="value-low-medium">£860M</span></div>
                <div>Utilities: <span class="value-low-medium">£2.8B</span></div>
                <div>Grand Total: <span class="value-high">£20.72B</span></div>
            </div>
        </div>

        <div id="wales-box" class="region-box">
            <div class="region-title">Wales</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-high">£4.39B</span></div>
                <div>Highways: <span class="value-high">£2.73B</span></div>
                <div>Aviation: <span class="value">£185M</span></div>
                <div>Maritime: <span class="value-low-medium">£525M</span></div>
                <div>Utilities: <span class="value-low-medium">£2.18B</span></div>
                <div>Grand Total: <span class="value-high">£10.0B</span></div>
            </div>
        </div>

        <div id="south-west-box" class="region-box">
            <div class="region-title">South West</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-high">£3.76B</span></div>
                <div>Highways: <span class="value-high">£2.68B</span></div>
                <div>Aviation: <span class="value-low-medium">£640M</span></div>
                <div>Maritime: <span class="value-low-medium">£897M</span></div>
                <div>Utilities: <span class="value-high">£2.75B</span></div>
                <div>Grand Total: <span class="value-high">£10.72B</span></div>
            </div>
        </div>

        <!-- Right side boxes -->
        <div id="north-east-box" class="region-box">
            <div class="region-title">North East</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-low-medium">£2.06B</span></div>
                <div>Highways: <span class="value-low-medium">£777M</span></div>
                <div>Aviation: <span class="value">£78M</span></div>
                <div>Maritime: <span class="value-low-medium">£463M</span></div>
                <div>Utilities: <span class="value-low-medium">£975M</span></div>
                <div>Grand Total: <span class="value-low-medium">£4.35B</span></div>
            </div>
        </div>

        <div id="yorkshire-and-the-humber-box" class="region-box">
            <div class="region-title">Yorkshire and the Humber</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-low-medium">£4.84B</span></div>
                <div>Highways: <span class="value-low-medium">£1.27B</span></div>
                <div>Aviation: <span class="value-low-medium">£325M</span></div>
                <div>Maritime: <span class="value-low-medium">£975M</span></div>
                <div>Utilities: <span class="value-low-medium">£1.41B</span></div>
                <div>Grand Total: <span class="value-high">£8.81B</span></div>
            </div>
        </div>

        <div id="east-midlands-box" class="region-box">
            <div class="region-title">East Midlands</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-low-medium">£4.45B</span></div>
                <div>Highways: <span class="value-low-medium">£1.23B</span></div>
                <div>Aviation: <span class="value">£105M</span></div>
                <div>Maritime: <span class="value">£118M</span></div>
                <div>Utilities: <span class="value-low-medium">£1.55B</span></div>
                <div>Grand Total: <span class="value-low-medium">£7.78B</span></div>
            </div>
        </div>

        <div id="eastern-box" class="region-box">
            <div class="region-title">Eastern</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-low-medium">£7.95B</span></div>
                <div>Highways: <span class="value-low-medium">£2.65B</span></div>
                <div>Aviation: <span class="value-low-medium">£1.52B</span></div>
                <div>Maritime: <span class="value-low-medium">£915M</span></div>
                <div>Utilities: <span class="value-low-medium">£2.2B</span></div>
                <div>Grand Total: <span class="value-high">£15.25B</span></div>
            </div>
        </div>

        <div id="south-east-box" class="region-box">
            <div class="region-title">South East</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-low-medium">£5.95B</span></div>
                <div>Highways: <span class="value-low-medium">£992M</span></div>
                <div>Aviation: <span class="value-high">£5.46B</span></div>
                <div>Maritime: <span class="value-low-medium">£1.08B</span></div>
                <div>Utilities: <span class="value-high">£3.75B</span></div>
                <div>Grand Total: <span class="value-high">£17.24B</span></div>
            </div>
        </div>

        <!-- Bottom row cards -->
        <div id="west-midlands-box" class="region-box">
            <div class="region-title">West Midlands</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-low-medium">£3.58B</span></div>
                <div>Highways: <span class="value-low-medium">£683M</span></div>
                <div>Aviation: <span class="value">£405M</span></div>
                <div>Maritime: <span class="value">£118M</span></div>
                <div>Utilities: <span class="value-low-medium">£1.21B</span></div>
                <div>Grand Total: <span class="value-low-medium">£6.82B</span></div>
            </div>
        </div>

        <div id="london-box" class="region-box">
            <div class="region-title">London</div>
            <div class="region-details">
                <div>Rail Sector: <span class="value-low-medium">£2.76B</span></div>
                <div>Highways: <span class="value-low-medium">£645M</span></div>
                <div>Aviation: <span class="value-high">£6.93B</span></div>
                <div>Maritime: <span class="value-low-medium">£1.12B</span></div>
                <div>Utilities: <span class="value-high">£6.75B</span></div>
                <div>Grand Total: <span class="value-high">£18.18B</span></div>
            </div>
        </div>

        <!-- Map in the center column -->
        <div class="map-container">
            <!-- Overlay SVG retained -->
            <svg width="100%" height="100%" style="position:absolute;top:0;left:0;pointer-events:none;z-index:2;">
                <line x1="760" y1="500" x2="570" y2="700" stroke="#888" stroke-width="2" stroke-dasharray="5,5" opacity="0.6" />
            </svg>

            <!-- MAIN MAP SVG (unchanged; original content preserved) -->
            <svg id="svg_map" xmlns="http://www.w3.org/2000/svg" viewBox="125 -1112 1450.9 2375">
                <!-- ******* YOUR ORIGINAL MAP PATHS / GROUPS ARE HERE (omitted in this message for brevity) ******* -->
                <!-- Keep all of your existing <g id="...">, <path>, <polygon> etc. exactly as they were -->
            </svg>
        </div>
    </div>

    <script>
        // Maintain your highlight/selection logic (original JS kept)
        document.addEventListener('DOMContentLoaded', function() {
            const mapRegions = document.querySelectorAll('.map-region');
            const regionBoxes = document.querySelectorAll('.region-box');
            let currentlySelected = null;

            mapRegions.forEach(region => {
                region.addEventListener('click', function() {
                    mapRegions.forEach(r => r.classList.remove('selected'));
                    this.classList.add('selected');
                    currentlySelected = this.getAttribute('title');
                });
                
                region.addEventListener('mouseenter', function() {
                    if (currentlySelected !== this.getAttribute('title')) {
                        this.style.filter = 'brightness(1.05)';
                    }
                });
                
                region.addEventListener('mouseleave', function() {
                    if (currentlySelected !== this.getAttribute('title')) {
                        this.style.filter = 'brightness(1)';
                    }
                });
            });
            
            // Add click functionality to boxes to select corresponding regions
            regionBoxes.forEach(box => {
                box.addEventListener('click', function() {
                    const regionId = this.id.replace('-box', '');
                    const mapRegion = document.getElementById(regionId);
                    if (mapRegion) {
                        mapRegion.click();
                    }
                });
            });
        });
    </script>
</body>
</html>
